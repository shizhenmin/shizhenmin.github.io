---
title: "Linux网络配置"
categories: Linux
tags: Linux命令
---

* content
{:toc}

## 基础

### IP地址分类

A类：1～127

B类：128～191

C类：191～223

D类：224～239

E类：240～254



## 文件

### 网卡配置文件
存放网卡配置文件目录： `/etc/sysconfig/network-scripts/`

### DNS服务器地址文件
存放配置DNS服务器地址的文件地址：
/etc/resolv.conf

文件内容：
nameserver DNS服务器地址

## 命令
### hostname

### ifconfig

## network manager

```bash
配置IP地址 nmcli
show指令
nmcli connection show  ##查看网络连接
nmcli connection show "网卡名"

modify指令
nmcli connection modify ens33 ipv4.method manual ipv4.addresses '192.168.1.222/24 192.168.1.1' connection.autoconnect yes

nmcli connection modify "网卡名" 参数1 值1
	ipv4.method auto|manual
	ipv4.addresses "IP地址/掩码长度 [默认网关]"
	ipv4.dns DNS服务器地址
	connection.autoconnect yes|no

up/down指令 激活
nmcli connection down "网卡名"
nmcli connection up "网卡名"
nmcli connection up ens33
```

### 配置聚合连接

1、创建虚拟网卡
nmcli c add type team con-name team0 ifname team0 autoconnect yes config '{"runner": {"name": "activebackup"}}'
格式：nmcli c add type team con-name team0 ifname team0 autoconnect yes config 
  '{"runner": {"name": "activebackup"}}'
#nmcli c 添加 类型 team（绑定类型） 配置文件名 team0 显示网卡名 team0 每次开机自启 配置网卡绑定工作模式 热备份方式

man teamd.conf

07
nmcli connection delete team0  #删除

2、添加成员
nmcli c add type team-slave con-name team0-1 ifname ens37 master team0
nmcli c add type team-slave con-name team0-2 ifname ens38 master team0
#nmcli connection 添加 类型 team-slave 配置文件名 team0-1 网卡名 ens37 添加到 team0（显示网卡名）
nmcli c de team0-1  #删除

3、配置team0的IP地址
nmcli c modify team0（配置文件名） ipv4.method manual ipv4.addr 192.168.1.222/24 ipv4.gateway 192.168.1.1 ipv4.dns 192.168.1.1 c.autoconnect yes

4、激活配置
nmcli c up team0（配置文件名）
nmcli c up team0-1（配置文件名）
nmcli c up team0-2（配置文件名）

5、验证聚合连接状态
teamdctl team0 state

